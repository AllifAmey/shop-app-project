import{j as t,F as _,G as o,b as d,e as q,g as K,s as j,P as be,r as x,u as V,k as H,_ as I,m as G,n as Q,w as J,x as F,d as Y,B as z,L as X,D as Z,y as ee,z as te,C as S,E as ae,H as ve,I as W,J as Ce,h as M,K as ye,f as U,M as ne,S as Ie,N as Pe,O as we,Q as $e,p as Se,o as ze,A as _e,q as ke,t as Ne,v as Le}from"./index-ac7c6a5f.js";import{A as ie}from"./AnimatedPage-821d5ebd.js";import{C as re}from"./Checkbox-40002143.js";import{C as O,D as ge,a as pe}from"./CardMedia-40c664d4.js";import{C as D}from"./CircularProgress-a4941f1d.js";import{D as he}from"./DialogContent-83232269.js";import"./motion-026e4c32.js";import"./SwitchBase-debebcf0.js";import"./useFormControl-c66bfef7.js";function Ae(e){const a={justifyContent:"space-evenly",alignItems:"center",height:"20%",width:"100%"},n={width:"80%",fontSize:"20px"};return t(_,{children:t(o,{item:!0,container:!0,alignSelf:"start",flexDirection:"column",justifyContent:"start",alignContent:"center",xs:2,children:d(o,{container:!0,flexDirection:"column",height:.5,width:.9,children:[t(o,{fontSize:30,textAlign:"center",padding:"20px 0 40px",children:"Filter Items"}),Object.keys(e.catagoriesAllowed).map(r=>{const i=r,f=e.catagoriesAllowed[r];return t(o,{container:!0,sx:a,children:d(o,{item:!0,sx:n,children:[t(re,{inputProps:{"aria-label":`filter ${i} checkbox`,"data-cy":`${i}`},checked:f,onChange:p=>{let s={...e.catagoriesAllowed};s[`${i}`]=p.target.checked,e.setCatagoriesAllowed({...s});const h=e.products.filter(m=>!{...s}[m.catagory]);e.setFilteredProducts([...h])}}),i]})},i)})]})})})}const Re="_card_zb6hd_25",N={card:Re,"card-container":"_card-container_zb6hd_43","card-img":"_card-img_zb6hd_77","card-info":"_card-info_zb6hd_91","card-price":"_card-price_zb6hd_101","card-delivery":"_card-delivery_zb6hd_109","btn-purchase":"_btn-purchase_zb6hd_119","dialog-container":"_dialog-container_zb6hd_139"};function De(e){return q("MuiCard",e)}K("MuiCard",["root"]);const Me=["className","raised"],Oe=e=>{const{classes:a}=e;return Q({root:["root"]},De,a)},je=j(be,{name:"MuiCard",slot:"Root",overridesResolver:(e,a)=>a.root})(()=>({overflow:"hidden"})),Fe=x.forwardRef(function(a,n){const r=V({props:a,name:"MuiCard"}),{className:i,raised:f=!1}=r,p=H(r,Me),s=I({},r,{raised:f}),h=Oe(s);return t(je,I({className:G(h.root,i),elevation:f?8:void 0,ref:n,ownerState:s},p))}),oe=Fe;function Ee(e){const[a,n]=x.useState(!1),[r,i]=x.useState(!1),f=J(v=>v.cart.cart),p=F(),s=()=>{if(localStorage.getItem("isLogged")==="LOGGED_IN")ee(i).then(v=>{i(!0);const u=v.find(c=>c.product.id===e.product.id);u?ae(i,u.cart_item_id,e.product.id,u.quantity+1).then(c=>{p(S.changeExistingItem(["increase",c.id]))}):te(i,e.product.id).then(c=>{p(S.addNewCartItem(c))})});else if(localStorage.getItem("isLogged")!=="LOGGED_IN"){const v=f.find(u=>u.product.id===e.product.id);p(v?S.changeExistingItem(["increase",e.product.id,"anonymous"]):S.addNewCartItem({quantity:1,product:e.product}))}},h=()=>{n(!0)},m=()=>{n(!1)};return d(_,{children:[t(oe,{sx:{height:"350px",width:"250px",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#f8f9fa",borderRadius:"10px",border:"1px solid #96f2d7"},elevation:2,children:d("div",{className:N["card-container"],children:[t(Y,{component:z,sx:{height:"100%",width:"100%",gridArea:"img","&:hover":{background:"none"}},onClick:h,disableRipple:!0,"aria-label":"Popup for more product info",children:t(O,{component:"img",height:"140",width:"184",src:e.product.image_url,alt:e.product.name,sx:{borderRadius:"20px"}})}),t("div",{className:N["card-info"],children:`Handmade ${e.product.name}`}),t("div",{className:N["card-price"],children:`£${e.product.price}`}),t("div",{className:N["card-delivery"],children:"FREE UK delivery"}),d("div",{className:N["btn-purchase"],children:[t(X,{to:`/product/handmade-${e.product.name.toLowerCase().replaceAll(" ","-")}-${e.product.id}`,title:"Details",children:t(z,{variant:"contained",size:"big","aria-label":`Button link to ${e.product.name} detail page`,"data-cy":`Detail Product ${e.product.id}`,children:"Details"})}),r?t(D,{}):t(z,{variant:"contained",size:"medium",onClick:s,"aria-label":`Add ${e.product.name} to cart`,"data-cy":`Add Product ${e.product.id}`,children:"Add Cart"})]})]})}),d(Z,{open:a,onClose:m,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",PaperProps:{sx:{height:"90%",maxWidth:"70%",display:"flex",flexDirection:"row",flex:"1 1 50%",borderRadius:"20px",justifyContent:"center",alignItems:"center"}},children:[t(O,{component:"img",image:e.product.image_url,alt:`Large ${e.product.name}`,sx:{height:"80%",width:"80vh",marginLeft:"4%",borderRadius:"20px"}}),t(he,{sx:{height:"60vh",lineHeight:"1.5rem",display:"flex",justifyContent:"center",alignItems:"center"},children:d("div",{className:N["dialog-container"],children:[t(ge,{fontSize:30,children:"Quick Info"}),t("div",{className:N["dialog-item"],children:"Handcrafted item"}),t("div",{className:N["dialog-item"],children:"Dispatches from a small business in United Kingdom"}),t("div",{className:N["dialog-item"],children:"Materials: copper"}),t("div",{className:N["dialog-item"],children:"FREE UK delivery"}),t(pe,{children:t(z,{onClick:m,size:"big","aria-label":"Close Popup",children:"Close"})})]})})]})]})}function Be(e){return q("MuiPagination",e)}K("MuiPagination",["root","ul","outlined","text"]);const Te=["boundaryCount","componentName","count","defaultPage","disabled","hideNextButton","hidePrevButton","onChange","page","showFirstButton","showLastButton","siblingCount"];function Ue(e={}){const{boundaryCount:a=1,componentName:n="usePagination",count:r=1,defaultPage:i=1,disabled:f=!1,hideNextButton:p=!1,hidePrevButton:s=!1,onChange:h,page:m,showFirstButton:P=!1,showLastButton:v=!1,siblingCount:u=1}=e,c=H(e,Te),[C,g]=ve({controlled:m,default:i,name:n,state:"page"}),l=(y,A)=>{m||g(A),h&&h(y,A)},b=(y,A)=>{const me=A-y+1;return Array.from({length:me},(pt,xe)=>y+xe)},w=b(1,Math.min(a,r)),k=b(Math.max(r-a+1,a+1),r),E=Math.max(Math.min(C-u,r-a-u*2-1),a+2),R=Math.min(Math.max(C+u,a+u*2+2),k.length>0?k[0]-2:r-1),B=[...P?["first"]:[],...s?[]:["previous"],...w,...E>a+2?["start-ellipsis"]:a+1<r-a?[a+1]:[],...b(E,R),...R<r-a-1?["end-ellipsis"]:r-a>a?[r-a]:[],...k,...p?[]:["next"],...v?["last"]:[]],T=y=>{switch(y){case"first":return 1;case"previous":return C-1;case"next":return C+1;case"last":return r;default:return null}},L=B.map(y=>typeof y=="number"?{onClick:A=>{l(A,y)},type:"page",page:y,selected:y===C,disabled:f,"aria-current":y===C?"true":void 0}:{onClick:A=>{l(A,T(y))},type:y,page:T(y),selected:!1,disabled:f||y.indexOf("ellipsis")===-1&&(y==="next"||y==="last"?C>=r:C<=1)});return I({items:L},c)}function Ge(e){return q("MuiPaginationItem",e)}const He=K("MuiPaginationItem",["root","page","sizeSmall","sizeLarge","text","textPrimary","textSecondary","outlined","outlinedPrimary","outlinedSecondary","rounded","ellipsis","firstLast","previousNext","focusVisible","disabled","selected","icon"]),$=He,ce=W(t("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage"),le=W(t("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage"),de=W(t("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"NavigateBefore"),ue=W(t("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext"),We=["className","color","component","components","disabled","page","selected","shape","size","slots","type","variant"],fe=(e,a)=>{const{ownerState:n}=e;return[a.root,a[n.variant],a[`size${U(n.size)}`],n.variant==="text"&&a[`text${U(n.color)}`],n.variant==="outlined"&&a[`outlined${U(n.color)}`],n.shape==="rounded"&&a.rounded,n.type==="page"&&a.page,(n.type==="start-ellipsis"||n.type==="end-ellipsis")&&a.ellipsis,(n.type==="previous"||n.type==="next")&&a.previousNext,(n.type==="first"||n.type==="last")&&a.firstLast]},qe=e=>{const{classes:a,color:n,disabled:r,selected:i,size:f,shape:p,type:s,variant:h}=e,m={root:["root",`size${U(f)}`,h,p,n!=="standard"&&`${h}${U(n)}`,r&&"disabled",i&&"selected",{page:"page",first:"firstLast",last:"firstLast","start-ellipsis":"ellipsis","end-ellipsis":"ellipsis",previous:"previousNext",next:"previousNext"}[s]],icon:["icon"]};return Q(m,Ge,a)},Ke=j("div",{name:"MuiPaginationItem",slot:"Root",overridesResolver:fe})(({theme:e,ownerState:a})=>I({},e.typography.body2,{borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,padding:"0 6px",margin:"0 3px",color:(e.vars||e).palette.text.primary,height:"auto",[`&.${$.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},a.size==="small"&&{minWidth:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"},a.size==="large"&&{minWidth:40,borderRadius:40/2,padding:"0 10px",fontSize:e.typography.pxToRem(15)})),Ve=j(Ce,{name:"MuiPaginationItem",slot:"Root",overridesResolver:fe})(({theme:e,ownerState:a})=>I({},e.typography.body2,{borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,height:32,padding:"0 6px",margin:"0 3px",color:(e.vars||e).palette.text.primary,[`&.${$.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${$.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},transition:e.transitions.create(["color","background-color"],{duration:e.transitions.duration.short}),"&:hover":{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${$.selected}`]:{backgroundColor:(e.vars||e).palette.action.selected,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selected} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:M(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${$.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selected} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:M(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},[`&.${$.disabled}`]:{opacity:1,color:(e.vars||e).palette.action.disabled,backgroundColor:(e.vars||e).palette.action.selected}}},a.size==="small"&&{minWidth:26,height:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"},a.size==="large"&&{minWidth:40,height:40,borderRadius:40/2,padding:"0 10px",fontSize:e.typography.pxToRem(15)},a.shape==="rounded"&&{borderRadius:(e.vars||e).shape.borderRadius}),({theme:e,ownerState:a})=>I({},a.variant==="text"&&{[`&.${$.selected}`]:I({},a.color!=="standard"&&{color:(e.vars||e).palette[a.color].contrastText,backgroundColor:(e.vars||e).palette[a.color].main,"&:hover":{backgroundColor:(e.vars||e).palette[a.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[a.color].main}},[`&.${$.focusVisible}`]:{backgroundColor:(e.vars||e).palette[a.color].dark}},{[`&.${$.disabled}`]:{color:(e.vars||e).palette.action.disabled}})},a.variant==="outlined"&&{border:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${$.selected}`]:I({},a.color!=="standard"&&{color:(e.vars||e).palette[a.color].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[a.color].mainChannel} / 0.5)`:M(e.palette[a.color].main,.5)}`,backgroundColor:e.vars?`rgba(${e.vars.palette[a.color].mainChannel} / ${e.vars.palette.action.activatedOpacity})`:M(e.palette[a.color].main,e.palette.action.activatedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[a.color].mainChannel} / calc(${e.vars.palette.action.activatedOpacity} + ${e.vars.palette.action.focusOpacity}))`:M(e.palette[a.color].main,e.palette.action.activatedOpacity+e.palette.action.focusOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${$.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[a.color].mainChannel} / calc(${e.vars.palette.action.activatedOpacity} + ${e.vars.palette.action.focusOpacity}))`:M(e.palette[a.color].main,e.palette.action.activatedOpacity+e.palette.action.focusOpacity)}},{[`&.${$.disabled}`]:{borderColor:(e.vars||e).palette.action.disabledBackground,color:(e.vars||e).palette.action.disabled}})})),Qe=j("div",{name:"MuiPaginationItem",slot:"Icon",overridesResolver:(e,a)=>a.icon})(({theme:e,ownerState:a})=>I({fontSize:e.typography.pxToRem(20),margin:"0 -8px"},a.size==="small"&&{fontSize:e.typography.pxToRem(18)},a.size==="large"&&{fontSize:e.typography.pxToRem(22)})),Je=x.forwardRef(function(a,n){const r=V({props:a,name:"MuiPaginationItem"}),{className:i,color:f="standard",component:p,components:s={},disabled:h=!1,page:m,selected:P=!1,shape:v="circular",size:u="medium",slots:c={},type:C="page",variant:g="text"}=r,l=H(r,We),b=I({},r,{color:f,disabled:h,selected:P,shape:v,size:u,type:C,variant:g}),w=ye(),k=qe(b),R=(w.direction==="rtl"?{previous:c.next||s.next||ue,next:c.previous||s.previous||de,last:c.first||s.first||ce,first:c.last||s.last||le}:{previous:c.previous||s.previous||de,next:c.next||s.next||ue,first:c.first||s.first||ce,last:c.last||s.last||le})[C];return C==="start-ellipsis"||C==="end-ellipsis"?t(Ke,{ref:n,ownerState:b,className:G(k.root,i),children:"…"}):d(Ve,I({ref:n,ownerState:b,component:p,disabled:h,className:G(k.root,i)},l,{children:[C==="page"&&m,R?t(Qe,{as:R,ownerState:b,className:k.icon}):null]}))}),Ye=Je,Xe=["boundaryCount","className","color","count","defaultPage","disabled","getItemAriaLabel","hideNextButton","hidePrevButton","onChange","page","renderItem","shape","showFirstButton","showLastButton","siblingCount","size","variant"],Ze=e=>{const{classes:a,variant:n}=e;return Q({root:["root",n],ul:["ul"]},Be,a)},et=j("nav",{name:"MuiPagination",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:n}=e;return[a.root,a[n.variant]]}})({}),tt=j("ul",{name:"MuiPagination",slot:"Ul",overridesResolver:(e,a)=>a.ul})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"});function at(e,a,n){return e==="page"?`${n?"":"Go to "}page ${a}`:`Go to ${e} page`}const nt=x.forwardRef(function(a,n){const r=V({props:a,name:"MuiPagination"}),{boundaryCount:i=1,className:f,color:p="standard",count:s=1,defaultPage:h=1,disabled:m=!1,getItemAriaLabel:P=at,hideNextButton:v=!1,hidePrevButton:u=!1,renderItem:c=L=>t(Ye,I({},L)),shape:C="circular",showFirstButton:g=!1,showLastButton:l=!1,siblingCount:b=1,size:w="medium",variant:k="text"}=r,E=H(r,Xe),{items:R}=Ue(I({},r,{componentName:"Pagination"})),B=I({},r,{boundaryCount:i,color:p,count:s,defaultPage:h,disabled:m,getItemAriaLabel:P,hideNextButton:v,hidePrevButton:u,renderItem:c,shape:C,showFirstButton:g,showLastButton:l,siblingCount:b,size:w,variant:k}),T=Ze(B);return t(et,I({"aria-label":"pagination navigation",className:G(T.root,f),ownerState:B,ref:n},E,{children:t(tt,{className:T.ul,ownerState:B,children:R.map((L,y)=>t("li",{children:c(I({},L,{color:p,"aria-label":P(L.type,L.page,L.selected),shape:C,size:w,variant:k}))},y))})}))}),se=nt;function it(e){const[a,n]=x.useState([]),[r,i]=x.useState([]),[f,p]=x.useState(!1),[s,h]=x.useState({}),[m,P]=x.useState(1),[v,u]=x.useState(0),c=(g,l)=>{P(l)},C=F();return x.useEffect(()=>{const g=[...new Set(e.products.map(b=>b.catagory))].reduce((b,w)=>(b[w]=!1,b),{});h(g),n(e.products),i(e.products);const l=e.products.length/8;l===Number.isInteger(l)?u(l):u(Math.trunc(l)+1),C(ne.replaceShop(a))},[]),t(_,{children:t(ie,{children:d(o,{container:!0,height:"auto",width:1,justifyContent:"center",margin:"2rem 0 ",children:[t(Ae,{catagoriesAllowed:s,setCatagoriesAllowed:h,products:a,setFilteredProducts:i}),d(o,{item:!0,container:!0,width:.8,flexDirection:"column",children:[d(o,{item:!0,container:!0,gap:2,justifyContent:"start",alignItems:"start",children:[!f&&a.filter(g=>{const l=(m-1)*8,b=l+8;return!s[g.catagory]&&r.indexOf(g)>=l&&r.indexOf(g)<b}).map(g=>t(Ee,{product:g},g.id)),f&&t(D,{size:"25rem",sx:{margin:"auto"}})]}),t(o,{item:!0,container:!0,justifyContent:"center",paddingTop:"1rem",children:t(se,{count:v,page:m,onChange:c,shape:"rounded"})})]})]})})})}function rt(e){const a={justifyContent:"space-evenly",alignItems:"center",height:"20%",width:"100%"},n={width:"80%",fontSize:"16px"};return t(_,{children:d(o,{container:!0,flexDirection:"column",height:.5,width:.9,children:[t(o,{fontSize:20,textAlign:"center",padding:"20px 0 40px",children:"Filter Items"}),Object.keys(e.catagoriesAllowed).map(r=>{const i=r,f=e.catagoriesAllowed[r];return t(o,{container:!0,sx:a,children:d(o,{item:!0,sx:n,children:[t(re,{inputProps:{"aria-label":`filter ${i} checkbox`,"data-cy":`${i}`},checked:f,onChange:p=>{let s={...e.catagoriesAllowed};s[`${i}`]=p.target.checked,e.setCatagoriesAllowed({...s});const h=e.products.filter(m=>!{...s}[m.catagory]);e.setFilteredProducts([...h])}}),i]})},i)})]})})}function ot(e){const[a,n]=x.useState(!1),[r,i]=x.useState(!1),f=J(v=>v.cart.cart),p=F(),s=()=>{if(localStorage.getItem("isLogged")==="LOGGED_IN")ee(i).then(v=>{i(!0);const u=v.find(c=>c.product.id===e.product.id);u?ae(i,u.cart_item_id,e.product.id,u.quantity+1).then(c=>{p(S.changeExistingItem(["increase",c.id]))}):te(i,e.product.id).then(c=>{p(S.addNewCartItem(c))})});else if(localStorage.getItem("isLogged")!=="LOGGED_IN"){const v=f.find(u=>u.product.id===e.product.id);p(v?S.changeExistingItem(["increase",e.product.id,"anonymous"]):S.addNewCartItem({quantity:1,product:e.product}))}},h=()=>{n(!0)},m=()=>{n(!1)};return d(_,{children:[d(oe,{sx:{height:"300px",width:"250px",display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"center",backgroundColor:"#f8f9fa",borderRadius:"10px",border:"1px solid #96f2d7",fontSize:"14px"},elevation:2,children:[t(Y,{component:z,sx:{height:"120px",width:"120px","&:hover":{background:"none"}},onClick:h,disableRipple:!0,"aria-label":"Popup for more product info",children:t(O,{component:"img",src:e.product.image_url,alt:e.product.name,sx:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"20px"}})}),t(o,{item:!0,fontSize:"20px",textAlign:"start",children:`Handmade ${e.product.name}`}),d(o,{container:!0,width:"100%",justifyContent:"space-around",children:[t(o,{item:!0,children:`£${e.product.price}`}),t(o,{item:!0,children:"FREE UK delivery"})]}),d(o,{container:!0,width:"100%",justifyContent:"space-evenly",children:[t(X,{to:`/product/handmade-${e.product.name.toLowerCase().replaceAll(" ","-")}-${e.product.id}`,title:"Details",children:t(z,{variant:"contained","aria-label":`Button link to ${e.product.name} detail page`,"data-cy":`Detail Product ${e.product.id}`,children:"Details"})}),r?t(D,{}):t(z,{variant:"contained",onClick:s,"aria-label":`Add ${e.product.name} to cart`,"data-cy":`Add Product ${e.product.id}`,children:"Add Cart"})]})]}),d(Z,{open:a,onClose:m,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",PaperProps:{sx:{height:"90%",maxWidth:"90%",display:"flex",flexDirection:"row",borderRadius:"20px",justifyContent:"center",alignItems:"center"}},children:[t(o,{item:!0,children:t(O,{component:"img",image:e.product.image_url,alt:`Large ${e.product.name}`,sx:{width:"30vw",marginLeft:"4%",borderRadius:"20px"}})}),d(he,{sx:{height:"60vh",lineHeight:"1.5rem",display:"flex",justifyContent:"space-evenly",alignItems:"center",flexDirection:"column",fontSize:"20px"},children:[t(ge,{fontSize:30,children:"Quick Info"}),t("div",{children:"Handcrafted item"}),t("div",{children:"Dispatches from a small business in United Kingdom"}),t("div",{children:"Materials: copper"}),t("div",{children:"FREE UK delivery"}),t(pe,{children:t(z,{onClick:m,size:"big","aria-label":"Close Popup",sx:{fontSize:"20px"},children:"Close"})})]})]})]})}function st(e){const[a,n]=x.useState([]),[r,i]=x.useState([]),[f,p]=x.useState(!1),[s,h]=x.useState({}),[m,P]=x.useState(1),[v,u]=x.useState(0),c=(g,l)=>{P(l)},C=F();return x.useEffect(()=>{const g=[...new Set(e.products.map(b=>b.catagory))].reduce((b,w)=>(b[w]=!1,b),{});h(g),n(e.products),i(e.products);const l=e.products.length/8;l===Number.isInteger(l)?u(l):u(Math.trunc(l)+1),C(ne.replaceShop(a))},[]),t(_,{children:t(ie,{children:d(o,{container:!0,height:"auto",width:1,justifyContent:"center",margin:"2rem 0 ",children:[t(o,{item:!0,container:!0,alignSelf:"start",flexDirection:"column",justifyContent:"start",alignContent:"center",xs:2,children:t(rt,{catagoriesAllowed:s,setCatagoriesAllowed:h,products:a,setFilteredProducts:i})}),d(o,{item:!0,container:!0,flexDirection:"column",xs:10,justifyContent:"space-between",children:[d(o,{item:!0,container:!0,gap:2,justifyContent:"space-evenly",children:[!f&&a.filter(g=>{const l=(m-1)*6,b=l+6;return!s[g.catagory]&&r.indexOf(g)>=l&&r.indexOf(g)<b}).map((g,l)=>t(_,{children:t(ot,{product:g},g.id)})),f&&t(D,{size:"25rem",sx:{margin:"auto"}})]}),t(o,{item:!0,container:!0,justifyContent:"center",paddingTop:"1rem",children:t(se,{count:v,page:m,onChange:c,shape:"rounded"})})]})]})})})}function ct(e){const a={justifyContent:"space-evenly",alignItems:"center",height:"20%",width:"100%"},n={width:"80%",fontSize:"12px"};return t(_,{children:d(o,{container:!0,flexDirection:"column",alignItems:"center",textAlign:"center",children:[t(o,{fontSize:16,children:"Filter Items"}),Object.keys(e.catagoriesAllowed).map(r=>{const i=r,f=e.catagoriesAllowed[r];return d(o,{container:!0,flexDirection:"column",sx:a,children:[t(o,{item:!0,sx:n,children:t(re,{inputProps:{"aria-label":`filter ${i} checkbox`,"data-cy":`${i}`},size:"small",checked:f,onChange:p=>{let s={...e.catagoriesAllowed};s[`${i}`]=p.target.checked,e.setCatagoriesAllowed({...s});const h=e.products.filter(m=>!{...s}[m.catagory]);e.setFilteredProducts([...h])}})}),t(o,{item:!0,children:i})]},i)})]})})}const lt=x.forwardRef(function(a,n){return t(Ie,{direction:"up",ref:n,...a})});function dt(e){const[a,n]=x.useState(!1),[r,i]=x.useState(!1),f=J(v=>v.cart.cart),p=F(),s=()=>{if(localStorage.getItem("isLogged")==="LOGGED_IN")ee(i).then(v=>{i(!0);const u=v.find(c=>c.product.id===e.product.id);u?ae(i,u.cart_item_id,e.product.id,u.quantity+1).then(c=>{p(S.changeExistingItem(["increase",c.id]))}):te(i,e.product.id).then(c=>{p(S.addNewCartItem(c))})});else if(localStorage.getItem("isLogged")!=="LOGGED_IN"){const v=f.find(u=>u.product.id===e.product.id);p(v?S.changeExistingItem(["increase",e.product.id,"anonymous"]):S.addNewCartItem({quantity:1,product:e.product}))}},h=()=>{n(!0)},m=()=>{n(!1)};return d(_,{children:[t(o,{item:!0,sx:{flex:"0 0 50%"},children:d(oe,{sx:{height:"250px",display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"center",backgroundColor:"#f8f9fa",border:"1px solid #96f2d7",fontSize:"10px"},elevation:2,children:[t(Y,{component:z,sx:{height:"80px",width:"100px","&:hover":{background:"none"}},onClick:h,disableRipple:!0,"aria-label":"Popup for more product info",children:t(O,{component:"img",src:e.product.image_url,alt:e.product.name,sx:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"10px"}})}),t(o,{item:!0,fontSize:"14px",textAlign:"start",children:`Handmade ${e.product.name}`}),d(o,{container:!0,width:"100%",justifyContent:"space-around",children:[t(o,{item:!0,children:`£${e.product.price}`}),t(o,{item:!0,children:"FREE UK delivery"})]}),d(o,{container:!0,justifyContent:"center",gap:2,children:[t(X,{to:`/product/handmade-${e.product.name.toLowerCase().replaceAll(" ","-")}-${e.product.id}`,title:"Details",children:t(z,{variant:"contained",size:"small","aria-label":`Button link to ${e.product.name} detail page`,"data-cy":`Detail Product ${e.product.id}`,children:"Details"})}),t(o,{item:!0,children:r?t(D,{}):t(z,{size:"small",variant:"contained",onClick:s,"aria-label":`Add ${e.product.name} to cart`,"data-cy":`Add Product ${e.product.id}`,endIcon:d(Pe,{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"20.000000pt",height:"20.000000pt",viewBox:"0 0 30.000000 30.000000",preserveAspectRatio:"xMidYMid meet","aria-labelledby":"cartTitle cartDesc",children:[t("title",{id:"cartTitle",children:"Cart Icon"}),t("desc",{id:"cartDesc",children:"A black coloured illustration of a shopping trolley."}),d("g",{transform:"translate(0.000000,30.000000) scale(0.100000,-0.100000)",fill:"#C1FAA2",stroke:"none",children:[t("path",{d:`M10 271 c0 -5 7 -11 16 -13 11 -2 26 -31 43 -83 l26 -80 73 -3 73 -3\r
          13 33 c8 18 17 48 21 66 l7 32 -106 0 c-95 0 -106 2 -106 18 0 10 -5 23 -12\r
          30 -14 14 -48 16 -48 3z m208 -113 c-3 -20 -9 -23 -48 -23 -39 0 -45 3 -48 23\r
          -3 20 0 22 48 22 48 0 51 -2 48 -22z`}),t("path",{d:`M104 59 c-10 -17 13 -36 27 -22 12 12 4 33 -11 33 -5 0 -12 -5 -16\r
          -11z`}),t("path",{d:`M204 59 c-10 -17 13 -36 27 -22 12 12 4 33 -11 33 -5 0 -12 -5 -16\r
          -11z`})]})]}),children:"Add Cart"})})]})]})}),t(Z,{fullScreen:!0,open:a,onClose:m,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",PaperProps:{sx:{}},TransitionComponent:lt,children:d(o,{container:!0,flexDirection:"column",alignItems:"center",sx:{height:"100%"},children:[t(o,{item:!0,alignSelf:"end",children:t(we,{edge:"start",color:"inherit",onClick:m,size:"large","aria-label":"Close Popup",children:t($e,{})})}),t(o,{item:!0,sx:{height:"200px",width:"200px",paddingBottom:"20px"},children:t(O,{sx:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"10px"},component:"img",image:e.product.image_url,alt:`Large ${e.product.name}`})}),d(o,{container:!0,flexDirection:"column",width:.8,gap:1,children:[t(o,{item:!0,fontSize:30,textAlign:"center",children:"Quick Info"}),t(o,{item:!0,children:"Handcrafted item"}),t(o,{item:!0,children:"Dispatches from a small business in United Kingdom"}),t(o,{item:!0,children:"Materials: copper"}),t(o,{item:!0,children:"FREE UK delivery"})]})]})})]})}function ut(e){const[a,n]=x.useState([]),[r,i]=x.useState([]),[f,p]=x.useState(!1),[s,h]=x.useState({}),[m,P]=x.useState(1),[v,u]=x.useState(0),c=(g,l)=>{P(l)},C=F();return x.useEffect(()=>{const g=[...new Set(e.products.map(b=>b.catagory))].reduce((b,w)=>(b[w]=!1,b),{});h(g),n(e.products),i(e.products);const l=e.products.length/8;l===Number.isInteger(l)?u(l):u(Math.trunc(l)+1),C(ne.replaceShop(a))},[]),t(_,{children:t(ie,{children:d(o,{container:!0,height:"auto",width:1,justifyContent:"center",margin:"2rem 0 ",children:[t(o,{item:!0,container:!0,alignSelf:"start",flexDirection:"column",justifyContent:"start",alignContent:"center",xs:2,children:t(ct,{catagoriesAllowed:s,setCatagoriesAllowed:h,products:a,setFilteredProducts:i})}),d(o,{item:!0,container:!0,flex:1,flexDirection:"column",children:[d(o,{item:!0,container:!0,justifyContent:"start",alignItems:"start",padding:"0 0 48px 0",flexWrap:"wrap",children:[!f&&a.filter(g=>{const l=(m-1)*8,b=l+8;return!s[g.catagory]&&r.indexOf(g)>=l&&r.indexOf(g)<b}).map(g=>t(dt,{product:g},g.id)),f&&t(D,{size:"25rem",sx:{margin:"auto"}})]}),t(o,{item:!0,container:!0,justifyContent:"center",paddingTop:"1rem",children:t(se,{count:v,page:m,onChange:c,shape:"rounded"})})]})]})})})}function Pt(){const{products:e}=Se(),a=ze();return t(x.Suspense,{fallback:t(D,{size:"25rem",sx:{margin:"auto"}}),children:t(_e,{resolve:e,children:n=>d(_,{children:[a.isDesktop&&t(it,{products:n}),a.isTablet&&t(st,{products:n}),a.isMobile&&t(ut,{products:n})]})})})}async function gt(){const e=await fetch(`${Ne}/api/shop/products/`,{method:"GET",headers:{"Content-type":"application/json"}});if(e.ok)return await e.json();throw Le({message:"Could not fetch products"},{status:e.status})}function wt(){return ke({products:gt()})}export{Pt as default,wt as loader};
