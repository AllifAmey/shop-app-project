import{g as G,f as T,k as M,P as ot,r as C,h as W,_ as E,i as m,j as e,l as F,m as H,n as nt,o as U,p as it,q as w,s as st,b as P,t as A,v as rt,w as Y,F as V,d as ct,B as j,L as lt,D as dt,x as ut,y as pt,z as D,C as gt,G as N,E as ft,u as vt,A as ht,e as mt,H as bt,I as xt}from"./index-28587765.js";import{C as q,D as Ct,a as yt}from"./DialogTitle-1b899517.js";import{D as Pt}from"./DialogContent-5601f2f7.js";import{A as It}from"./AnimatedPage-3a31aea6.js";import{C as $t}from"./Checkbox-404b8072.js";import{C as Z}from"./CircularProgress-09804be8.js";import"./motion-53aa20c7.js";import"./SwitchBase-06822116.js";import"./useFormControl-af2eded4.js";function zt(t){return G("MuiCard",t)}T("MuiCard",["root"]);const Nt=["className","raised"],_t=t=>{const{classes:a}=t;return H({root:["root"]},zt,a)},kt=M(ot,{name:"MuiCard",slot:"Root",overridesResolver:(t,a)=>a.root})(()=>({overflow:"hidden"})),Lt=C.forwardRef(function(a,o){const n=W({props:a,name:"MuiCard"}),{className:s,raised:u=!1}=n,p=E(n,Nt),i=m({},n,{raised:u}),l=_t(i);return e(kt,m({className:F(l.root,s),elevation:u?8:void 0,ref:o,ownerState:i},p))}),Rt=Lt;function wt(t){return G("MuiPagination",t)}T("MuiPagination",["root","ul","outlined","text"]);const Mt=["boundaryCount","componentName","count","defaultPage","disabled","hideNextButton","hidePrevButton","onChange","page","showFirstButton","showLastButton","siblingCount"];function Ot(t={}){const{boundaryCount:a=1,componentName:o="usePagination",count:n=1,defaultPage:s=1,disabled:u=!1,hideNextButton:p=!1,hidePrevButton:i=!1,onChange:l,page:v,showFirstButton:z=!1,showLastButton:x=!1,siblingCount:g=1}=t,r=E(t,Mt),[d,b]=nt({controlled:v,default:s,name:o,state:"page"}),h=(c,L)=>{v||b(L),l&&l(c,L)},f=(c,L)=>{const at=L-c+1;return Array.from({length:at},(aa,et)=>c+et)},_=f(1,Math.min(a,n)),I=f(Math.max(n-a+1,a+1),n),O=Math.max(Math.min(d-g,n-a-g*2-1),a+2),R=Math.min(Math.max(d+g,a+g*2+2),I.length>0?I[0]-2:n-1),S=[...z?["first"]:[],...i?[]:["previous"],..._,...O>a+2?["start-ellipsis"]:a+1<n-a?[a+1]:[],...f(O,R),...R<n-a-1?["end-ellipsis"]:n-a>a?[n-a]:[],...I,...p?[]:["next"],...x?["last"]:[]],B=c=>{switch(c){case"first":return 1;case"previous":return d-1;case"next":return d+1;case"last":return n;default:return null}},k=S.map(c=>typeof c=="number"?{onClick:L=>{h(L,c)},type:"page",page:c,selected:c===d,disabled:u,"aria-current":c===d?"true":void 0}:{onClick:L=>{h(L,B(c))},type:c,page:B(c),selected:!1,disabled:u||c.indexOf("ellipsis")===-1&&(c==="next"||c==="last"?d>=n:d<=1)});return m({items:k},r)}function St(t){return G("MuiPaginationItem",t)}const Bt=T("MuiPaginationItem",["root","page","sizeSmall","sizeLarge","text","textPrimary","textSecondary","outlined","outlinedPrimary","outlinedSecondary","rounded","ellipsis","firstLast","previousNext","focusVisible","disabled","selected","icon"]),y=Bt,K=U(e("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage"),Q=U(e("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage"),J=U(e("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"NavigateBefore"),X=U(e("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext"),At=["className","color","component","components","disabled","page","selected","shape","size","slots","type","variant"],tt=(t,a)=>{const{ownerState:o}=t;return[a.root,a[o.variant],a[`size${A(o.size)}`],o.variant==="text"&&a[`text${A(o.color)}`],o.variant==="outlined"&&a[`outlined${A(o.color)}`],o.shape==="rounded"&&a.rounded,o.type==="page"&&a.page,(o.type==="start-ellipsis"||o.type==="end-ellipsis")&&a.ellipsis,(o.type==="previous"||o.type==="next")&&a.previousNext,(o.type==="first"||o.type==="last")&&a.firstLast]},jt=t=>{const{classes:a,color:o,disabled:n,selected:s,size:u,shape:p,type:i,variant:l}=t,v={root:["root",`size${A(u)}`,l,p,o!=="standard"&&`${l}${A(o)}`,n&&"disabled",s&&"selected",{page:"page",first:"firstLast",last:"firstLast","start-ellipsis":"ellipsis","end-ellipsis":"ellipsis",previous:"previousNext",next:"previousNext"}[i]],icon:["icon"]};return H(v,St,a)},Dt=M("div",{name:"MuiPaginationItem",slot:"Root",overridesResolver:tt})(({theme:t,ownerState:a})=>m({},t.typography.body2,{borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,padding:"0 6px",margin:"0 3px",color:(t.vars||t).palette.text.primary,height:"auto",[`&.${y.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},a.size==="small"&&{minWidth:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"},a.size==="large"&&{minWidth:40,borderRadius:40/2,padding:"0 10px",fontSize:t.typography.pxToRem(15)})),Ft=M(it,{name:"MuiPaginationItem",slot:"Root",overridesResolver:tt})(({theme:t,ownerState:a})=>m({},t.typography.body2,{borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,height:32,padding:"0 6px",margin:"0 3px",color:(t.vars||t).palette.text.primary,[`&.${y.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${y.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},transition:t.transitions.create(["color","background-color"],{duration:t.transitions.duration.short}),"&:hover":{backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${y.selected}`]:{backgroundColor:(t.vars||t).palette.action.selected,"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selected} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:w(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(t.vars||t).palette.action.selected}},[`&.${y.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selected} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:w(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},[`&.${y.disabled}`]:{opacity:1,color:(t.vars||t).palette.action.disabled,backgroundColor:(t.vars||t).palette.action.selected}}},a.size==="small"&&{minWidth:26,height:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"},a.size==="large"&&{minWidth:40,height:40,borderRadius:40/2,padding:"0 10px",fontSize:t.typography.pxToRem(15)},a.shape==="rounded"&&{borderRadius:(t.vars||t).shape.borderRadius}),({theme:t,ownerState:a})=>m({},a.variant==="text"&&{[`&.${y.selected}`]:m({},a.color!=="standard"&&{color:(t.vars||t).palette[a.color].contrastText,backgroundColor:(t.vars||t).palette[a.color].main,"&:hover":{backgroundColor:(t.vars||t).palette[a.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[a.color].main}},[`&.${y.focusVisible}`]:{backgroundColor:(t.vars||t).palette[a.color].dark}},{[`&.${y.disabled}`]:{color:(t.vars||t).palette.action.disabled}})},a.variant==="outlined"&&{border:t.vars?`1px solid rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${y.selected}`]:m({},a.color!=="standard"&&{color:(t.vars||t).palette[a.color].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[a.color].mainChannel} / 0.5)`:w(t.palette[a.color].main,.5)}`,backgroundColor:t.vars?`rgba(${t.vars.palette[a.color].mainChannel} / ${t.vars.palette.action.activatedOpacity})`:w(t.palette[a.color].main,t.palette.action.activatedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[a.color].mainChannel} / calc(${t.vars.palette.action.activatedOpacity} + ${t.vars.palette.action.focusOpacity}))`:w(t.palette[a.color].main,t.palette.action.activatedOpacity+t.palette.action.focusOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${y.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[a.color].mainChannel} / calc(${t.vars.palette.action.activatedOpacity} + ${t.vars.palette.action.focusOpacity}))`:w(t.palette[a.color].main,t.palette.action.activatedOpacity+t.palette.action.focusOpacity)}},{[`&.${y.disabled}`]:{borderColor:(t.vars||t).palette.action.disabledBackground,color:(t.vars||t).palette.action.disabled}})})),Et=M("div",{name:"MuiPaginationItem",slot:"Icon",overridesResolver:(t,a)=>a.icon})(({theme:t,ownerState:a})=>m({fontSize:t.typography.pxToRem(20),margin:"0 -8px"},a.size==="small"&&{fontSize:t.typography.pxToRem(18)},a.size==="large"&&{fontSize:t.typography.pxToRem(22)})),Ut=C.forwardRef(function(a,o){const n=W({props:a,name:"MuiPaginationItem"}),{className:s,color:u="standard",component:p,components:i={},disabled:l=!1,page:v,selected:z=!1,shape:x="circular",size:g="medium",slots:r={},type:d="page",variant:b="text"}=n,h=E(n,At),f=m({},n,{color:u,disabled:l,selected:z,shape:x,size:g,type:d,variant:b}),_=st(),I=jt(f),R=(_.direction==="rtl"?{previous:r.next||i.next||X,next:r.previous||i.previous||J,last:r.first||i.first||K,first:r.last||i.last||Q}:{previous:r.previous||i.previous||J,next:r.next||i.next||X,first:r.first||i.first||K,last:r.last||i.last||Q})[d];return d==="start-ellipsis"||d==="end-ellipsis"?e(Dt,{ref:o,ownerState:f,className:F(I.root,s),children:"…"}):P(Ft,m({ref:o,ownerState:f,component:p,disabled:l,className:F(I.root,s)},h,{children:[d==="page"&&v,R?e(Et,{as:R,ownerState:f,className:I.icon}):null]}))}),Gt=Ut,Tt=["boundaryCount","className","color","count","defaultPage","disabled","getItemAriaLabel","hideNextButton","hidePrevButton","onChange","page","renderItem","shape","showFirstButton","showLastButton","siblingCount","size","variant"],Wt=t=>{const{classes:a,variant:o}=t;return H({root:["root",o],ul:["ul"]},wt,a)},Ht=M("nav",{name:"MuiPagination",slot:"Root",overridesResolver:(t,a)=>{const{ownerState:o}=t;return[a.root,a[o.variant]]}})({}),Vt=M("ul",{name:"MuiPagination",slot:"Ul",overridesResolver:(t,a)=>a.ul})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"});function qt(t,a,o){return t==="page"?`${o?"":"Go to "}page ${a}`:`Go to ${t} page`}const Kt=C.forwardRef(function(a,o){const n=W({props:a,name:"MuiPagination"}),{boundaryCount:s=1,className:u,color:p="standard",count:i=1,defaultPage:l=1,disabled:v=!1,getItemAriaLabel:z=qt,hideNextButton:x=!1,hidePrevButton:g=!1,renderItem:r=k=>e(Gt,m({},k)),shape:d="circular",showFirstButton:b=!1,showLastButton:h=!1,siblingCount:f=1,size:_="medium",variant:I="text"}=n,O=E(n,Tt),{items:R}=Ot(m({},n,{componentName:"Pagination"})),S=m({},n,{boundaryCount:s,color:p,count:i,defaultPage:l,disabled:v,getItemAriaLabel:z,hideNextButton:x,hidePrevButton:g,renderItem:r,shape:d,showFirstButton:b,showLastButton:h,siblingCount:f,size:_,variant:I}),B=Wt(S);return e(Ht,m({"aria-label":"pagination navigation",className:F(B.root,u),ownerState:S,ref:o},O,{children:e(Vt,{className:B.ul,ownerState:S,children:R.map((k,c)=>e("li",{children:r(m({},k,{color:p,"aria-label":z(k.type,k.page,k.selected),shape:d,size:_,variant:I}))},c))})}))}),Qt=Kt,Jt="_card_zb6hd_25",$={card:Jt,"card-container":"_card-container_zb6hd_43","card-img":"_card-img_zb6hd_77","card-info":"_card-info_zb6hd_91","card-price":"_card-price_zb6hd_101","card-delivery":"_card-delivery_zb6hd_109","btn-purchase":"_btn-purchase_zb6hd_119","dialog-container":"_dialog-container_zb6hd_139"};function Xt(t){const[a,o]=C.useState(!1),[n,s]=C.useState(!1),u=rt(x=>x.cart.cart),p=Y(),i=()=>{if(localStorage.getItem("isLogged")=="LOGGED_IN")ut(s).then(x=>{s(!0);const g=x.find(r=>r.product.id===t.product.id);g?gt(s,g.cart_item_id,t.product.id,g.quantity+1).then(r=>{p(D.changeExistingItem(["increase",r.id]))}):pt(s,t.product.id).then(r=>{p(D.addNewCartItem(r))})});else if(localStorage.getItem("isLogged")!="LOGGED_IN"){const x=u.find(g=>g.product.id===t.product.id);p(x?D.changeExistingItem(["increase",t.product.id,"anonymous"]):D.addNewCartItem({quantity:1,product:t.product}))}},l=()=>{o(!0)},v=()=>{o(!1)};return P(V,{children:[e(Rt,{sx:{height:"350px",width:"250px",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#f8f9fa",borderRadius:"10px",border:"1px solid #96f2d7"},elevation:2,children:P("div",{className:$["card-container"],children:[e(ct,{component:j,sx:{height:"100%",width:"100%",gridArea:"img","&:hover":{background:"none"}},onClick:l,disableRipple:!0,children:e(q,{component:"img",height:"140",width:"184",src:t.product.image_url,alt:t.product.catagory,sx:{borderRadius:"20px"}})}),P("div",{className:$["card-info"],children:["Handmade ",t.product.name]}),e("div",{className:$["card-price"],children:`£${t.product.price}`}),e("div",{className:$["card-delivery"],children:"FREE UK delivery"}),P("div",{className:$["btn-purchase"],children:[e(j,{variant:"contained",size:"big",component:lt,to:`/product/handmade-${t.product.name.toLowerCase().replaceAll(" ","-")}-${t.product.id}`,children:"Details"}),e(j,{variant:"contained",size:"medium",onClick:i,children:"Add Cart"})]})]})}),P(dt,{open:a,onClose:v,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",PaperProps:{sx:{height:"90%",maxWidth:"70%",display:"flex",flexDirection:"row",flex:"1 1 50%",borderRadius:"20px",justifyContent:"center",alignItems:"center"}},children:[e(q,{component:"img",image:t.product.image_url,alt:t.product.catagory,sx:{height:"80%",width:"80vh",marginLeft:"4%",borderRadius:"20px"}}),e(Pt,{sx:{height:"60vh",lineHeight:"1.5rem",display:"flex",justifyContent:"center",alignItems:"center"},children:P("div",{className:$["dialog-container"],children:[e(Ct,{fontSize:30,children:"Quick Info "}),e("div",{className:$["dialog-item"],children:"Handmade item "}),e("div",{className:$["dialog-item"],children:"Handmade item Dispatches from a small business in United Kingdom"}),e("div",{className:$["dialog-item"],children:"Materials: copper"}),e("div",{className:$["dialog-item"],children:"FREE UK delivery"}),e(yt,{children:e(j,{onClick:v,size:"big",children:"Close"})})]})})]})]})}function Yt(t){const a={justifyContent:"space-evenly",alignItems:"center",height:"20%",width:"100%"},o={width:"80%",fontSize:"20px"};return e(V,{children:e(N,{item:!0,container:!0,alignSelf:"start",flexDirection:"column",justifyContent:"start",alignContent:"center",xs:2,children:P(N,{container:!0,flexDirection:"column",height:.5,width:.9,children:[e(N,{fontSize:30,textAlign:"center",padding:"20px 0 40px",children:"Filter Items"}),Object.keys(t.catagoriesAllowed).map(n=>{const s=n,u=t.catagoriesAllowed[n];return e(N,{container:!0,sx:a,children:P(N,{item:!0,sx:o,children:[e($t,{inputProps:{"aria-label":"controlled"},checked:u,onChange:p=>{let i={...t.catagoriesAllowed};i[`${s}`]=p.target.checked,t.setCatagoriesAllowed({...i});const l=t.products.filter(v=>!{...i}[v.catagory]);t.setFilteredProducts([...l])}}),s]})},s)})]})})})}function Zt(t){const[a,o]=C.useState([]),[n,s]=C.useState([]),[u,p]=C.useState(!1),[i,l]=C.useState({}),[v,z]=C.useState(1),[x,g]=C.useState(0),r=(b,h)=>{z(h)},d=Y();return C.useEffect(()=>{const b=[...new Set(t.products.map(f=>f.catagory))].reduce((f,_)=>(f[_]=!1,f),{});l(b),o(t.products),s(t.products);const h=t.products.length/8;h==Number.isInteger(h)?g(h):g(Math.trunc(h)+1),d(ft.replaceShop(a))},[]),e(V,{children:e(It,{children:P(N,{container:!0,height:"auto",width:1,justifyContent:"center",margin:"2rem 0 ",children:[e(Yt,{catagoriesAllowed:i,setCatagoriesAllowed:l,products:a,setFilteredProducts:s}),P(N,{item:!0,container:!0,width:.8,xs:9,flexDirection:"column",children:[P(N,{item:!0,container:!0,gap:2,justifyContent:"start",alignItems:"start",padding:"0 0 48px 0",children:[!u&&a.filter(b=>{const h=(v-1)*8,f=h+8;return!i[b.catagory]&&n.indexOf(b)>=h&&n.indexOf(b)<f}).map(b=>e(Xt,{product:b},b.id)),u&&e(Z,{size:"25rem",sx:{margin:"auto"}})]}),e(N,{item:!0,container:!0,justifyContent:"center",children:e(Qt,{count:x,page:v,onChange:r,shape:"rounded"})})]})]})})})}function ua(){const{products:t}=vt();return e(C.Suspense,{fallback:e(Z,{size:"25rem",sx:{margin:"auto"}}),children:e(ht,{resolve:t,children:a=>e(Zt,{products:a})})})}async function ta(){const t=await fetch(`${bt}/api/shop/products/`,{method:"GET",headers:{"Content-type":"application/json"}});if(t.ok)return await t.json();throw xt({message:"Could not fetch products"},{status:t.status})}function pa(){return mt({products:ta()})}export{ua as default,pa as loader};
